document.getElementById("change-make").textContent = "";
defaultScore = "100";
scoreText = document.getElementById("score");
scoreText.textContent = "100";
temp = document.getElementById("change-make").textContent;

let giveText = document.getElementById("words-array");

let words = document.getElementById("words-array").textContent.trim().split(" ");

let combo = 0;
let multiplier = 1;
let multiplierText = document.getElementById("multiplier");

multiplierText.textContent = `${multiplier}x`;

stackspace = 7;
let times = new Array();
let times2 = new Array();
nowTime = Date.now();
times.push(nowTime);

function giveWords() {
  l =
    "live dense robotizations fluxional decalcomania creolise superagency coplot cyanobacteria perennates elytra ozonous combinatorial objectionable informally dealerships rants hahniums reproduction feases outrider pazazzes topnotchers harmonium halala rectitudes transferals acierate variables upturned stich abscissa unassembled quart supernation madrones imbrown ferryman gorals kashruths shot amazes preciouses aerified linecaster firecracker miched sterigmas schizziest scamperer nimblenesses pacesetting washhouses antinature timidly cupolaing melton pacificator necklines thixotropies kluging awkwardest hosepipes daunts jazz barleycorn ungallant pictorializes magic metros zincites somberness antihero profession schrods muspike zeitgebers shooing cholers ferulae illuding turbine prized holandric hemialgias irrelevance syntax torch stringiness toughy registerable fabulate pitchforking bodingly diachrony kitchenwares recreational fedoras superelevated reposefulness sarcasm posse as quesadilla rarefiers macedoine sparry thebaines licencees isoenzyme tiredest selenological presentableness degenerations sizableness sympetaly analeptic equanimity mechanized marchesi compassing frowning heartburn ruffians acquisitive poppyheads magnesiums pique deacidifying thimbleberry counterplotting adulation mesenchymal eucaryotes purposing prolog organization outstride lush cartwheelers jolters syndicators amyloidosis indescribable camphol solidified backhoed kwacha guar opportunities weakest bluffers touchlines odorized eliminating chemurgies swearword crushers strumose bayonetted tristezas dishonoring tabor vaulters collaboration jellos revalidation outmaster triturator gigantic laboriousnesses indefatigably rebury reptilium dispersing teases gruffer miaoued tritenesses farinaceous thanatological straighten melanized maskegs saprogenicities handbarrows regardlessness aftermath prelusions trichomonal reamer flourish roils friendlier cystotomy moujik natal perfervid hoes delectate chlorination raggles clouds topstitching butyraldehyde stereotactic commencer nitro cirri troublous resumptions isotherms zealots meetnesses dhak ricking zlotych bureaucratised chazzan superfixes undertake becurst sequents hubbies gaingiving chibouk misprizers gazette staircase towages auroras saluki sheep barefaced lumbers masculinize epigraphist dimmest parkway laminar feoffee undoer visits bedsits backwraps scandaled inosculated auguster glaived beclowning selector tramel tarbooshes goofiness transparence rotundness variform schleps exampling autosuggestion pontifically phytohormone classicist geepounds dingbats selachians hippieish emanate clamworms symbolic readymades carrotiest tambourine deuteranope permanentnesses presence halfpennies overwetted weblogs signage fubbing cystoscope watercresses medulloblastoma tracklayer huppahs cagelings randier candlers tourers flinders ceratopsians phosphorescing nonfactual hominy consecutively mimeoing luring voraciously emissions sported carnage guard rievers actuation pavises caitiff superlawyers surplusage unchlorinated incommutable fogeyisms habitues judo sketchbooks criterion evenfalls scans creampuff trazodones conventions predicting phosphid shred sharpshooting tolerations disassembled wampishes repacifies zooglea alphorns aerostat correspondences reinterviewing hibiscuses centares sheaflike hallucinates redetermined peaking zoogleae recluses rigamaroles monogyny cosmopolitism prolificacies rootiness formularization nasal burglarized bullshot sordid agricultures plasmic philomel misroutes levering revotes dihydric niacins misallocates dimethoates palmerworms telegraphese transfixing subvariety counterefforts stromata tuckers garters intercepts reverters typhoid banksias telephoner blueing observed dehumanizations arf overreaching unstayed czardases redictated pickling impertinencies hows tricotine annulation outstay showerheads vaticinates aroused tympanums counteraction imaginer haunts shamoying shipwright vocalists slackers enchanter isoantibodies drowsier jumbucks alimental carless surge overpeople gabbarts leukodystrophy downspout jumbos rated kinescoping rematches glassblower existences dishelmed tamaris gruffnesses insecure luminary quintuplicates antifogging tamarisk lineny pralltriller nontaxes elites hypnagogic restrictedly moronically tabouli acyloin haint immiscible crooks pogroms contemplates plastid velverets kismats chimeric volcanologists climber ralline diencephala stopovers encasements unappeasable monkery refrangibleness intransigeants naled metallists kolhoz cooeys trestleworks alopecia troglodytes frontlet tearstain cryotrons alarumed canzonas systematisms federated offset azide telekinetically bethel tiercerons uniting raking outraged inconsecutive flutier piggybacks inkberries reindeers takahes bebop grant glintiest mundunguses carbazoles superabounding zazen mythopoeias culicines tablespoonsful jinker chanoyu playmakings detoxed connubiality nihil available circumscribed tarantellas goombah millefleurs hispidity atonicities journalisms cairny praetorian lekythos untrusses outhear pomanders dopey triforia liches sidecar mastiches moviedom bowels decadence saucy algums poxier mucidity tillering monoclonal pagod tonsuring sexualize buttonholer trustless joe hooly proctodaeum fissipeds enveloped billboarded arrhythmias satieties fumigating grimnesses kemps prosencephalon prosthodontics installs reblent assiduity translucence digamma separations cordially superficiality starker smalti quavers robotized overgilds deadens incapacity collaging talebearer handling neuroanatomists estopping coachable spaders congratulators disrepair flanes research poetasters hoarding pharmacy tonally threaps misseated chignoned dermatome oversold repassages stacked revalidates piranhas benzine roarings fan undergirded puzzledly aestivation assume cephalothoraxes ringbarked deflexion disserve radarscopes masterfulnesses peering hugger leopardesses fumulus brainwashed ratifying nacreous reintegrating osteoporotic jinns enroot oftener cyclamens terminological mudcapped computerlike enzymatically preavers chumminess succinate effluence antireligious aping bordered grain pretell etherish citators voteable wricks derivatively mycotoxins raitas emboweled semidiurnal hotch ideally parries draughtier strumas wintertides mist hefters snuck esotericisms lenitive puttylike chateaubriands rummaging misspaces stiffish rhombi narratives chimleys outspokenness flack provided footlike stoplights victimises misgraded rackets employable maizes disrupted rheumatologists torsks serosities faults committal harshly illustrated frostless despoliation vilifiers forecasters pintada disrelishing bracketed outscheming mezcal bathless dignify northwestwards dinkiest wiregrass flux uniformest outgain caroluses flinkites gushingly infixes vulgar frisson homeyness garnishee chopping electrolytes brochette test lording plesiosaur spavins pyrethrum pachas agnates foreknows brees shikkers fritt nonmigratory saccharases grunts reviolates soliloquists hydrographic mobile abstrusenesses perdurability lysing atypicalities grutches junior apolitical overregulating illuviate seamers radar manorialisms theocracy head crosser hoteliers prehandle weensier frugalities disulfiram unabridged daneworts electroforms dacquoise rallyist pliancies metalworkers skiwear spendy prove seisers sects imperially strophes fern embattling navigates bacterization foe extravehicular photoscanned enrichers remap neotropics treetop adulterators disconnectedly cravennesses hadal blockier paramour newsies recepts halo immy foppish cultivate lymphomata pileate acrophobes shuttered outbulging illegalizations heighth reburials euthanize whirs painfully rationalises unlively turboprop hyperlipemic teston stiffs regained configurational nictitating witting pacificators muticous polemically prospers earthlinesses masseters hampering passados schoolmasters scurvily millihenrys stairlike yielder deets dom magistrature telefilm volcanizes vocative lisper incinerated intussusceptive geometrised floccules buster cunctator slickrocks azoospermias unexpert trichothecene monochromists endomorphic fibroses shudders malicious proprioceptions besmiles calpains oversaturate shoehorns reduplicating polemics understandably footstones stigma pothering aeronomies undebatable gilders fluorocarbons unideological colleagues roundel payor backslashes recreants imagisms cel confuting orchestrator uprighted skip windigos bedemen dockhands terriers calciums claquers pentoses anchylosed scapegraces realisms apoptotic ling hypophyseal verifications scenical balkanizations monomanias outjockeying disklike faded pawnors pass melanite bailiff palmfuls speeds plead antifemale endowments labara beanbag formicary integrabilities brocolis pusher copping sleazy misfields phonematic taos bereavements deadlifts philippic outputting revetments amorality arachnoids unsociableness noetic waters delusive generation teachablenesses attracted reexported compositors lochia begorah cerebrations epical baboon pod rubricators butylating revolted embalmer palpates rabidness ravishers unevaluated sorites chancellorship megagametophyte apartheid lemongrasses agoraphobics palate arborized mimeos shotguns unissued podding constrictor daltonism excitants dirigiste booth narrators outdebates tempura landler crossbanded nascences theoretical brainstormers oscine limelighted cheddite expires restlessnesses notarize misquotation hippinesses na latina lawyer displacing tricklier nonequilibriums additive blastula heptameter showbiz millivolt retrievable schoolboyish outglares paintball schmaltz hindmost linker vivisectors lovably disobliges schoolfellow genteel masscult regrated liquidate woodworking hygienes adjournment hermetism coved gracility hypocalcemic harmonizations cooee unhappinesses repugnancies paradoxicalness peignoirs oppugn bermed soapsudsy staminodia enculturate minnesinger ensure fork offense statement rise rugby reality junior trace second bag rabbit embarrassment partnership retailer piano bark fountain create medal gown listen clock loop missile recover stop use auction presidency headline prevalence weave litigation even attack proof teenager ignore fee bolt bronze warning question dialect state rank elephant tip ";
  l = l.split(" ");
  randomInt = Math.floor(Math.random() * 1049);
  return l[randomInt];
}

function checkEmptiness() {
  if (document.getElementById("change-make").textContent == "") {
    document.getElementById("change-make").classList.add("null-texts");
  } else {
    document.getElementById("change-make").classList.remove("null-texts");
  }
  if (document.getElementById("words-array").textContent == "") {
    document.getElementById("words-array").classList.add("null-texts");
  } else {
    document.getElementById("words-array").classList.remove("null-texts");
  }
}

let rate = 3000;
var myFunction = function () {
  rate *= 0.97;
  if (words.length < stackspace) {
    giveText.textContent += ` ${giveWords()}`;
    checkEmptiness();
    words = document.getElementById("words-array").textContent.trim().split(" ");
    setTimeout(myFunction, rate);
  } else {
    words = new Array();
    sessionStorage.setItem("Score", defaultScore);
    document.getElementById("words-array").textContent = "";
    document.getElementById("words-array").textContent = "Game Over";
    document.getElementById("change-make").textContent = "Hit Submit!";
    document.onkeydown = function (e) {
      return false;
    };
  }
};
setTimeout(myFunction, rate);

let count = 0;
let letterCount = 0;

// input Start
document.addEventListener("keydown", (e) => {
  try {
    checkEmptiness();
    let key = document.getElementById(`${e.code}`);
    if (e.key == "Backspace") {
      e.preventDefault();
    }
    if (e.key != "Enter") {
      if (e.key != "Backspace") {
        if (e.key == words[count][letterCount]) {
          key.classList.add("keypressed");
          temp += e.key;
          document.getElementById("change-make").textContent = temp;
          letterCount += 1;
        } else {
          combo = 0;
          multiplier = 1;
          var snd = new Audio("error.wav");
          snd.play();
          multiplierText.textContent = `${multiplier}x`;
          key.classList.add("wrong-key-pressed");
        }
      }
    }
    if (e.key == "Enter") {
      if (temp == words[0]) {
        endTime = Date.now() - nowTime;
        times.push(endTime / 1000);
        nowTime = Date.now();
        temp = "";
        document.getElementById("change-make").textContent = "";
        words.shift();
        document.getElementById("words-array").textContent = words.join(" ");
        letterCount = 0;
        combo += 1;
        console.log(times);
        if (combo == 5) {
          multiplier += 1;
          multiplierText.textContent = `${multiplier}x`;
          combo = 0;
        }
        times.push(endTime / 1000);
        scoreTemp = Number(defaultScore);
        scoreTemp += (21 - Math.floor(times[times.length - 1])) * multiplier;
        defaultScore = String(scoreTemp);
        document.getElementById("score").textContent = String(defaultScore);
        nowTime = Date.now();
      }
    }
  } catch (error) {}
});
document.addEventListener("keyup", (e) => {
  try {
    let key = document.getElementById(`${e.code}`);
    setTimeout(() => {
      key.classList.remove("keypressed");
      key.classList.remove("wrong-key-pressed");
    }, 100);
  } catch (error) {}
});
